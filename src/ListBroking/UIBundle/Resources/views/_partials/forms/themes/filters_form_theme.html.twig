{% block form_label -%}
    {% if label is not sameas(false) -%}
        {% if not compound -%}
            {% set label_attr = label_attr|merge({'for': id}) %}
        {%- endif %}
        {% if required -%}
            {% set label_attr = label_attr|merge({'class': (label_attr.class|default('') ~ ' required')|trim}) %}
        {%- endif %}
        {#{% if label is empty -%}#}
            {#{% set label = name|humanize %}#}
        {#{%- endif -%}#}
        {% if compound -%}
            <h4{% for attrname, attrvalue in label_attr %} {{ attrname }}="{{ attrvalue }}"{% endfor %}>{{ label|trans({}, translation_domain) }}</h4>
            <hr>
        {% else %}
            <label{% for attrname, attrvalue in label_attr %} {{ attrname }}="{{ attrvalue }}"{% endfor %}>{{ label|trans({}, translation_domain) }}</label>
        {% endif %}
    {%- endif %}
{%- endblock form_label %}

{% block form_widget_compound -%}
    <div {{ block('widget_container_attributes') }} class="col-md-4">
        {% if form.vars.block_prefixes.1 == 'collection' %}
            <a href="#" class="add_collection btn btn-xs btn-primary"><i class="fa fa-plus"></i></a>
        {% elseif form.vars.block_prefixes.1 == 'filter' %}
            <a data-id="{{ form.vars.id }}" href="#" class="del_collection btn btn-xs btn-danger pull-right"><i class="fa fa-minus"></i></a>
        {% endif %}
        {%- if form.parent is empty -%}
                {{ form_errors(form) }}
            {%- endif -%}
        {{- block('form_rows') -}}
        {{- form_rest(form) -}}
    </div>
{%- endblock form_widget_compound %}

{% block form_row %}
    {% spaceless %}
        {% if not compound -%}
        <div class="form-group {% if form.parent.vars.block_prefixes.1 != 'filter' %}col-md-3{% endif %}">
        {% endif %}
            {% if form.vars.block_prefixes.1 not in ['filter', 'collection'] %}
                {{ form_label(form) }}
            {% endif %}
            {{ form_widget(form) }}
            {{ form_errors(form) }}
        {% if not compound -%}
        </div>
        {% endif %}
    {% endspaceless %}
{% endblock %}

{% block form_row2 %}
    {% spaceless %}
        {% if form.vars.block_prefixes.1 == 'form' or  form.vars.block_prefixes.1 matches  '/^_/'  %}
            <h4 class="text-light-blue">{{ form_label(form) }}</h4>
            <div class="{{ form.vars.attr.container_class is defined ? form.vars.attr.container_class : 'col-md-12'}}">
                <blockquote>
                    {{ form_widget(form) }}
                </blockquote>
                <hr>
            </div>
        {% elseif form.vars.block_prefixes.1 == 'collection' or form.vars.block_prefixes.1 == 'filter' %}

            {{ form_widget(form, {attr: {class: 'col-md-12' }}) }}
        {% else %}
            <div data-id="{{ form.vars.id }}">
                <div class="form-group {% if errors|length > 0 %}has-error{% endif %}">
                    {% if form.vars.block_prefixes.1 == 'checkbox' %}
                        {{ form_widget(form) }}
                    {% else %}
                        {{ form_label(form) }}
                        {% if icon is defined %}
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-{{ icon }}"></i>
                                </div>
                                <div class="col-md-2">
                                    {{ form_widget(form) }}
                                </div>
                            </div>
                            <p class="help-block">{% if errors|length > 0 %}{{ form_errors(form) }}{% endif %}</p>

                        {% else %}
                            {{ form_widget(form) }}
                            <p class="help-block">{% if errors|length > 0 %}{{ form_errors(form) }}{% endif %}</p>
                        {% endif %}
                        <!-- /.input group -->
                    {% endif %}
                </div>
            </div>
        {% endif %}
    {% endspaceless %}
{% endblock form_row2 %}